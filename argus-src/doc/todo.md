# TODO

- [x] 引入diesel并分模块模板使用

2024年12月6日

- [x] 引入LOG；
- [x] 增加默认数据库设置（文件选择路径）
- [ ] 根据默认图像路径展示指定列表图像

2024年12月7日

- [x] 为所有访问增加日志记录

2024年12月8日
- [x] 配置管理数据库升级【模仿安卓数据库升级思路，手动创建并维护数据版本数据库，默认从0开始；从0版本到最新版本的数据库迁移都提供依次升级】

2024年12月9日
- [x] 数据库增加图片地址维护；

2024年12月10日
- [x] 增加基础设置配置
- [x] 增加页面黑暗模式

2024年12月11日
- [ ] 使用面包屑作为路由确认
- https://element-plus.org/zh-CN/component/breadcrumb.html#breadcrumb-%E9%9D%A2%E5%8C%85%E5%B1%91
- [ ] 通知：
- https://element-plus.org/zh-CN/component/notification.html

- [ ] 搜索历史与搜索提示
- [x] 基础设置图像路径维护

2024年12月12日
- [x] 基础设置添加的路径照片直接添加到相册

2024年12月12日
- [x] 路径的选择不只有添加和删除，应该也要有启用和不启用

2024年12月13日
- [x] 路径的选择页面调整、增加删除功能
- [x] 根据路径展示图像
- [ ] 使用 RClone 作为图片加密上传、同步的工具
- [x] 递归查询子目录
- [ ] 根据原始图片加载缩略图


2024年12月14日
- [ ] 未来在单个页面（没有滚动条的页面）的图片展示中使用：Masonry.sj，
- [ ] 调节‘文件夹’文件展示样式
- [ ] 点击图片预览
- [x] rust 异步操作【定义异步任务，分多线程处理返回】
- [x] rust 异步 json 获取
- [x] rust 异步 图片压缩
- [x] rust 异步 图片读取

2024年12月18日
- [ ] 图片展示时先获取展示列表，当列表获取后，再单独请求每张图片
- [ ] 根据临时文件夹创建图片缩略图

2024年12月19日
- [ ] 参考 https://demo-zh.photoprism.app/library/browse 所有的图片展示都使用 grid 进行网格化展示使用同样的图片大小，使用方形布局
- [ ] 在指定路径生成缩略图 512*512 256*256 128*128
- [ ] 缩略图展示直接使用本地文件读取不再传输（传输作为备用后端）
- [ ] 缩略图采用 webp 格式，JPG 备用
- [ ] 基础设置提供 缩略图保存的路径、缩略图使用的格式、缩略图默认分辨率
- [ ] 使用 Hash 计算图像的唯一地址
- [ ] 前端传入 emit 指令进行回调通信
- [ ] 使用 config 文件配置替换 const 配置

2024年12月20日
- [ ] 检测缩略图是否存在
- [ ] 前端提供指定缩略图重新生成

2024年12月30日
- [x] 使用arc_face进行人脸识别和人脸文件提取
- [x] 使用faiss进行向量数据的存储
- [ ] 使用sqlite存储向量ID数据
- [ ] sqlite 创建不同的表存储物体信息，按照枚举进行划分类别，信息包括：创建时间、向量ID、置信度、图像Hash、构建时长、分类名称【人物的划分应该是单独的】
- [ ] sqlite 创建不同的表存储人脸信息。信息包括：创建时间、向量ID、置信度、图像Hash、构建时长、人物名称、最好质量的照片（封面照片）、面部ID。
- [ ] 向量的获取和存储到在faiss中进行，可以在内部进行内容的划分，可以让用户指定不同区域的向量是谁。

2024年12月31日
- [ ] rust 读取图片信息
- [ ] 后台索引所有图片并保存（低cpu占用）
- [ ] 通过 sqlite 保存图片信息
- [ ] exif 信息编辑【包括可以编辑数据和不可编辑数据（如很多原始数据不建议编辑）】
- [ ] rust 中或者说大多数语言中对于 exif 信息的读取非常的匮乏，比如rust或者java等只有 exiftool 较为常用但是不够方便，有机会可以构建一个自己的库
- [ ] 使用 exiftool 完成 exif 信息的读取和编辑

2025年1月1日
- [ ] 定义exif结构体
- [ ] 解析exiftool返回内容，将内容转换为结构体
- [ ] exiftool保存exif到图片




# 现存问题

- [ ] 软件包安装后字体不展示
- [x] 数据库操作会导致软件卡死
- [x] 增加设置页面
